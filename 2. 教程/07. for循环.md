![avatar](../_images/HelpTutorial.png)

我们现在知道**循环**是如何工作的并且知道什么是**变量**。现在我们就能开始讲另外一个非常有用的变成工具，即**for循环**。

**for循环**总是会被使用，比如用于动画，计数器，或者是快速检查一个数组。**for循环**是很有用并且变化丰富的工具。

```
  1. for i = 0 to 10 loop
  2.     print( i )
  3.     update()
  3. repeat
  4. sleep( 2 )
```

上面的程序是一个从0到10的计数器。**for循环**很特别，因为会在**循环**中定义一个**变量**。

在我们的例子中，我们定义了一个变量叫```i```，**循环**第一次运行的时候，```i```的值是0，当读到```repeat```的时候，程序将会跳到上一个```loop```行继续执行。然而，此时```i```的值就变成了1，下一次**循环**运行的时候，```i```就变成了2，每一次增加1，直到```i```的值变到9。

当```i```等于10的时候，条件就完成了，所以**循环**就结束了。

提示：**循环**在运行的时候，条件会数到最后一个值，不过并不包含最后一个值，所以我们的例子中```for i = 0 to 10 loop```会从0计数到9并且不会到10。

# 使用循环来创建声音

我们会什么要这么做呢？下面的一个很酷的例子就是如何使用**for循环**和```playNode(0)```来创建一段有趣的声音。输入下面的程序并运行，别忘了调大音量。

```
  1. for i = 0 to 900 loop
  2.     playNote( 0, 1, i, 1, 10, 0.5 )
  3.     update()
  4.     sleep( 0.01 )
  5. repeat
```

这一次我们将再次使用变量```i```，但是这一次我们将会计数到900而不是10。记住，我们将永远不会到900，```i```最多只会到899。

```playNode()```函数非常酷，你可以用它来创建自己的音乐。```playNote()```会播放一个固定频率的音符。在这个例子中，我们的```i```会代表频率。

在第一轮，```playNote()```函数将会播放0赫兹的会僧衣你，在**循环**的下一轮，频率将会是1赫兹，接下来是2赫兹直到899赫兹。这将会在**循环**中产生一系列的音符。

同时我们使用一个```sleep()```函数给出一段很短暂的只有0.01秒的延迟，因为延迟很短，所以听起来声音的音高会一直增加，像一个警报声。

如果我们像播放一段更像音乐的声音，该怎么做呢？我们需要注意两个事情，一个是长一点的延迟，另外一个是**步长(step)**。

我们在**for循环**中添加一个**step**，看一下下面的代码：

```
  1. for i = 0 to 900 step 100 loop
  2.     playNote( 0, 1, i, 1, 10, 0.5 )
  3.     update()
  4.     sleep( 0.1 )
  5. repeat
```
在这个例子中，这个**for循环**依旧会从0开始计数，但是每一次都会跳过100，这就意味着第一次循环，```i```的值依然是0，但是下一次就变成了100，再下次是200，当```i```的值达到800的时候，**循环**就结束了。

我们这里使用了一个较长的延迟，这样音符就能播放得长一些，那么播放出来的声音就像是音阶一样往上走。听起来就更像是音乐了。

尝试使用不同的**步长**与循环的结束值来试验不同的结果。

# 在循环中使用图形函数

另外一个例子是用循环来创建动画。比如我们像一次画一条线上的一个像素来穿过屏幕。

```
  1. for x = 0 to gwidth() loop
  2.     box( x, gheight() / 2, 1, 1, white, false )
  3.     update()
  3. repeat
```

注意在这个例子中，我们给**变量**命名为```x```。因为我们像控制x轴的像素位置，当然你可以给你的**变量**起任何名字。

**变量**```x```将在x轴的0数到x轴的最大值，也就是屏幕的宽度。

当我们调用```box()```**函数**，我们必须给出具体的参数信息，前两个参数**x**和**y**是我们在屏幕上画矩形的位置。接下来，我们要提供矩形的宽度和高度。在我们的例子中，矩形的宽度和高度都是1，是个非常小的矩形。再接下来的一个参数是**颜色**，最后我们是线框模式（```true```）还是填充模式（```false```）。

对于**x**的位置，我们使用的是不断增长的```x```，对于**y**坐标，我们使用```gheight() / ```，也就是屏幕上***y***轴的的中心位置。

简单来说，这个简单的程序将会在屏幕中间画一条贯穿屏幕的线。没一次循环画一个点。

接下来，让我们画一些别的什么。

改变代码成下面所示，看看能不能在不运行程序的前提下猜出会发生什么。

```
  1. for y = 0 to gheight() loop
  2.     circle( random( gwidth() ), y, 100, 32, fuzepink, true )
  3.     update()
  4. repeat
```

```gheight()```是一个能返回屏幕高度的**函数**。

在移动模式，这个值是720，在TV模式，这个值是1080

根据你使用Switch模式的不同，能会看到有720个或者1080个圆形，一个接一个屏幕下放运动。

因为```circle()```函数的**x**参数，是一个随机选择的值，圆形会随机出现在x轴的任何一个位置。

# 用for循环操作数组

在程序中经常使用的一种计数就是通过一个**for循环**来访问**数组**中的信息。

这种计数在程序中用的非常多，如果我们有很多东西需要在屏幕上显示，这些信息都保存在**数组**中，我们可以通过一个**for循环**来访问他们。

让我们看一个通过**for循环**来访问数组，并且将数据打印到屏幕上的例子。

首先我们先生成一些数据。

```
  1. array names[5]
  2. names[0] = "Dave "
  3. names[1] = "Kat "
  4. names[2] = "Luke "
  5. names[3] = "Jon "
  6. names[4] = "Rob "
```

目前，我们来看看我们完成了什么，我们创建来一个信息表，每一个部分都有一个数字标号。

现在我们通过一个**for循环**来访问这些信息，并且显示在屏幕上。

```
  1. array names[5]
  2. names[0] = "Dave "
  3. names[1] = "Kat "
  4. names[2] = "Luke "
  5. names[3] = "Jon "
  6. names[4] = "Rob "
  7. loop
  8.     clear()
  9.     for i = 0 to 5 loop
 10.         print( names[i] )
 11.     repeat
 12.     update()
 13. repeat
```

在第9到11行，有一个**for循环**，用来打印这5个名字，如果不用**for循环**，我们需要调用5次```print()```函数才能达到相同的效果。

这里比较聪明的是，每一个循环，变量```i```的值就会增加，第一轮，实际的代码是

```
 10. print( names[0] )
```

下一轮，```i```的值是1，实际的代码是:

```
 10. print( names[1] )
```

这个过程，一轮一轮地运行，直到我们把**数组**中所有的数据都打印出来。

# 复习

**for循环**是一个循环一定次数的循环。

我们会定义一个**变量**，在每一次循环中，这个值会增加或者减小。

**for循环**有非常多的应用，这里不能覆盖到所有的场景，因为我们必须从简单地开始。不过保持好奇心，在之后的教程中会有很多示例程序，能看到怎么使用他们。

#### 用到的函数和关键字

```box()```,```circle()```,```gWidth()```,```gHeight()```,```for```,```loop```,```playNote()```,```print()```,```repeat```,```sleep()```,```step```